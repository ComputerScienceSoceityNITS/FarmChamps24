{% extends "layout.html"%}
{%block title%}Weather{%endblock%}
{% block body %}
<!-- 
<h1>{{city}}</h1>
<h3>{{country}}</h3>
<h2>Cloudiness: {{cloudiness}}%</h2>
<h1>{{temp_present}}<sup>0</sup>C</h1>
<h2>Min: {{temp_min}}<sup>0</sup>C</h2>
<h2>Max: {{temp_max}}<sup>0</sup>C</h2>
<h5>Humidity: {{humidity}}%</h5>
<h5>wind_speed: {{wind_speed}} m/s</h5>
<h5>Weather: {{wthr_main}}</h5>
<h2></h2> -->

<!-- {{frcst}} -->

<div class="body">
    <link rel="stylesheet" href="../static/styles/weather.css">
    <div class="wthr_box">
        <img src="../static/images/home_logo.jpg" class="icons" id="home_logo" alt="">
        <h1 class="city">{{city}}</h1>
        <img src="../static/images/weather.jpg" id="weather_clip" alt="">
        <div class="present">
            <ul class="other_info">
                <li class="imps"><img src="../static/images/cloud.jpg" class="icons" alt=""></li>
                <li class="imps"><h2>{{temp_present}}<sup>0</sup>C</h2></li>
                <li class="imps">{{wthr_main}}</li>
                <li class="extras"><h3>Wind Speed</h3> {{wind_speed}} m/s</li>
                <li class="extras"><h3>Cloudiness</h3> {{cloudiness}}%</li>
                <li class="extras"><h3>Humidity</h3> {{humidity}}%</li>
            </ul>
            <div class="min_max">
                <h2>MAX: {{temp_max}}<sup>0</sup>C</h2>
                <h2>MIN: {{temp_min}}<sup>0</sup>C</h2>
            </div>
        </div>
        <script>
            const container = document.getElementById('forecast-container');
            const forecastData = JSON.parse('{{frcst|tojson|safe}}');
            console.log(forecastData);
                const div = document.createElement('div');
                forecastData.list.map((data) => {
                    console.log(data);
                    var date = new Date(data.dt)
                    div.innerHTML = `
                    <div class="forecast">
                        <div class="day">
                            <div class="frcst_cont">${date.toDateString()}</div>
                            <div class="frcst_cont">${data.weather[0].main}</div>
                            <div class="frcst_cont">${data.temp.max}<sup>0</sup>C</div>
                            <div class="frcst_cont">${data.temp.min}<sup>0</sup>C</div>
                    </div>
                    `;})
                container.appendChild(div);
        </script>
    </div>
</div>

{% endblock %}